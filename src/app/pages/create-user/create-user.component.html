<div class="bg-body d-flex flex-column align-items-stretch flex-center rounded-4 w-md-600px p-20">
  <div class="d-flex flex-center flex-column flex-column-fluid px-lg-10 pb-15 pb-lg-20">
    <form
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
      class="form w-100 fv-plugins-bootstrap5 fv-plugins-framework"
      id="kt_sign_up_form"
      data-kt-redirect-url="/metronic8/demo1/authentication/layouts/creative/sign-in.html"
      action="#"
    >
      <div class="text-center mb-11">
        <h1 class="text-gray-900 fw-bolder mb-3">REGISTRATE</h1>
      </div>
      <div class="fv-row mb-8 fv-plugins-icon-container">
        <input
          type="text"
          placeholder="Correo"
          formControlName="email"
          autocomplete="off"
          class="form-control bg-transparent"
        />
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
          *ngIf="form.get('email')?.invalid && (form.get('email')?.dirty || form.get('email')?.touched)">
          <div *ngIf="form.get('email')?.errors?.required">Correo es requerido.</div>
          <div *ngIf="form.get('email')?.errors?.pattern">Ingrese un correo electrónico válido.</div>
          <div *ngIf="form.get('email')?.errors?.emailExists">El correo ya existe en el sistema.</div>
        </div>
      </div>
      <div class="fv-row mb-8 fv-plugins-icon-container">
        <div class="input-group">
          <input
            [type]="hidePassword ? 'password' : 'text'"
            placeholder="Contraseña"
            formControlName="password"
            autocomplete="off"
            class="form-control bg-transparent"
          />
          <button type="button" class="btn btn-outline-secondary" (click)="togglePasswordVisibility()">
            <i class="fa" [ngClass]="{'fa-eye': hidePassword, 'fa-eye-slash': !hidePassword}"></i>
          </button>
        </div>
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
          *ngIf="form.get('password')?.invalid && (form.get('password')?.dirty || form.get('password')?.touched)">
          <div *ngIf="form.get('password')?.errors?.required">Contraseña es requerida.</div>
          <div *ngIf="form.get('password')?.errors?.minlength">La contraseña debe tener como mínimo 8 caracteres.</div>
        </div>
      </div>
      <div class="fv-row mb-8 fv-plugins-icon-container">
        <input
          type="text"
          placeholder="Nombre"
          formControlName="name"
          autocomplete="off"
          class="form-control bg-transparent"
        />
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
          *ngIf="form.get('name')?.invalid && (form.get('name')?.dirty || form.get('name')?.touched)">
          <div *ngIf="form.get('name')?.errors?.required">Nombre es requerido.</div>
          <div *ngIf="form.get('name')?.errors?.pattern">Nombre solo puede contener letras y espacios.</div>
          <div *ngIf="form.get('name')?.errors?.whitespace">Debe haber al menos una letra / Nombre inválido</div>
        </div>
      </div>
      <div class="fv-row mb-8 fv-plugins-icon-container">
        <input
          type="text"
          placeholder="Celular"
          formControlName="phone"
          autocomplete="off"
          class="form-control bg-transparent"
        />
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
          *ngIf="form.get('phone')?.invalid && (form.get('phone')?.dirty || form.get('phone')?.touched)">
          <div *ngIf="form.get('phone')?.errors?.required">Celular es requerido.</div>
          <div *ngIf="form.get('phone')?.errors?.pattern">Celular debe contener 9 dígitos numéricos.</div>
          <div *ngIf="form.get('phone')?.errors?.invalidPhone">El número no existe</div>
        </div>
      </div>
      <div class="fv-row mb-8 fv-plugins-icon-container">
        <input
          type="text"
          placeholder="Compañia"
          formControlName="enterprise"
          autocomplete="off"
          class="form-control bg-transparent"
        />
        <div class="fv-plugins-message-container fv-plugins-message-container--enabled invalid-feedback"
          *ngIf="form.get('enterprise')?.invalid && (form.get('enterprise')?.dirty || form.get('enterprise')?.touched)">
          <div *ngIf="form.get('enterprise')?.errors?.required">Nombre de empresa es requerido.</div>
          <div *ngIf="form.get('enterprise')?.errors?.pattern">Nombre de empresa solo puede contener letras y espacios.</div>
          <div *ngIf="form.get('enterprise')?.errors?.whitespace">Debe haber al menos una letra / Nombre inválido</div>
        </div>
      </div>
      <div class="d-grid mb-10">
        <button type="submit" id="kt_sign_up_submit" class="btn btn-primary">
          <span class="indicator-label"> REGISTRATE </span>
          <span class="indicator-progress">
            Please wait...
            <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
          </span>
        </button>
      </div>
      <div class="text-gray-500 text-center fw-semibold fs-6">
        Ya tienes una cuenta?
        <a (click)="goToLogin()" class="link-primary fw-semibold"> Ingresa </a>
      </div>
    </form>
  </div>
